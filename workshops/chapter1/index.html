
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learn how to use synthetic data and proper metrics to start improving your RAG system before you have real users">
      
      
      
        <link rel="canonical" href="https://567-labs.github.io/systematically-improving-rag/workshops/chapter1/">
      
      
        <link rel="prev" href="../chapter0/">
      
      
        <link rel="next" href="../chapter2/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Kickstarting the Data Flywheel with Synthetic Data - Systematically Improving RAG Applications</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kickstarting-the-data-flywheel-with-synthetic-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  <p>
    This material is supported by <a href="https://maven.com/applied-llms/rag-playbook?promoCode=EBOOK" target="_blank"><strong>Applied LLMs on Maven</strong></a>.  Readers get 20% off.
    Not ready? Check out the <a href="https://fivesixseven.ck.page/rag-crash-course" target="_blank"><strong>free email course</strong></a>.
  </p>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Systematically Improving RAG Applications" class="md-header__button md-logo" aria-label="Systematically Improving RAG Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Systematically Improving RAG Applications
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Kickstarting the Data Flywheel with Synthetic Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Workshops

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../office-hours/" class="md-tabs__link">
          
  
  
    
  
  Office Hours

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../talks/" class="md-tabs__link">
          
  
  
    
  
  Talks

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Systematically Improving RAG Applications" class="md-nav__button md-logo" aria-label="Systematically Improving RAG Applications" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Systematically Improving RAG Applications
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Workshops
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Workshops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 1: Starting the Flywheel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Chapter 1: Starting the Flywheel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-pitfalls-in-ai-development" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pitfalls in AI Development
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls in AI Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-reasoning-fallacy" class="md-nav__link">
    <span class="md-ellipsis">
      The Reasoning Fallacy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-vague-metrics-problem" class="md-nav__link">
    <span class="md-ellipsis">
      The Vague Metrics Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-generic-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Building Generic Solutions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leading-versus-lagging-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Leading versus Lagging Metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Leading versus Lagging Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lagging-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Lagging Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leading-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Leading Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-calories-in-calories-out-analogy" class="md-nav__link">
    <span class="md-ellipsis">
      The Calories In, Calories Out Analogy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-1-leading-metric-experiment-velocity" class="md-nav__link">
    <span class="md-ellipsis">
      The #1 Leading Metric: Experiment Velocity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#absence-blindness-and-intervention-bias" class="md-nav__link">
    <span class="md-ellipsis">
      Absence Blindness and Intervention Bias
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Absence Blindness and Intervention Bias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#absence-blindness" class="md-nav__link">
    <span class="md-ellipsis">
      Absence Blindness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intervention-bias" class="md-nav__link">
    <span class="md-ellipsis">
      Intervention Bias
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-rag-flywheel-and-retrieval-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      The RAG Flywheel and Retrieval Evaluations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The RAG Flywheel and Retrieval Evaluations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-prioritize-retrieval-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Why Prioritize Retrieval Evaluations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-precision-and-recall" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Precision and Recall
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-studies-real-world-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Case Studies: Real-World Improvements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Case Studies: Real-World Improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-study-1-report-generation-from-expert-interviews" class="md-nav__link">
    <span class="md-ellipsis">
      Case Study 1: Report Generation from Expert Interviews
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-2-blueprint-search-for-construction" class="md-nav__link">
    <span class="md-ellipsis">
      Case Study 2: Blueprint Search for Construction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-implementation-building-your-evaluation-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Implementation: Building Your Evaluation Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Practical Implementation: Building Your Evaluation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-a-practical-evaluation-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Building a Practical Evaluation Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-regular-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Running Regular Evaluations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrating-with-development-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating with Development Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-database-selection-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Database Selection Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vector Database Selection Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-your-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Your Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-database-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Database Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Framework
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-example-lancedb-for-hybrid-search" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Example: LanceDB for Hybrid Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-synthetic-data-for-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Synthetic Data for Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Synthetic Data for Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-approach-question-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Approach: Question Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-diverse-synthetic-data" class="md-nav__link">
    <span class="md-ellipsis">
      Generating Diverse Synthetic Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generating Diverse Synthetic Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-variation-in-question-types" class="md-nav__link">
    <span class="md-ellipsis">
      1. Variation in Question Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-linguistic-diversity-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      2. Linguistic Diversity Techniques
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-chain-of-thought-generation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Chain-of-Thought Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-few-shot-prompting-for-domain-specificity" class="md-nav__link">
    <span class="md-ellipsis">
      4. Few-Shot Prompting for Domain Specificity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-adversarial-question-generation" class="md-nav__link">
    <span class="md-ellipsis">
      5. Adversarial Question Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-comprehensive-evaluation-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Building Comprehensive Evaluation Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-synthetic-data-beyond-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Using Synthetic Data Beyond Evaluation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reflection-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Reflection Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion-and-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion and Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enroll-in-the-free-6-day-email-course" class="md-nav__link">
    <span class="md-ellipsis">
      Enroll in the Free 6-Day Email Course
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 2: From Evaluation to Enhancement
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Chapter 2: From Evaluation to Enhancement
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 3: User Experience
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Chapter 3: User Experience
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design Principles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feedback Collection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Iterative Improvement
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 4: Topic Modeling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Chapter 4: Topic Modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prioritization
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 5: Multimodal Capabilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Chapter 5: Multimodal Capabilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter5-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter5-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Chapter 6: Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Chapter 6: Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Routing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Improvement
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../office-hours/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Office Hours
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Office Hours
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/AGENTS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 1: Starting the Flywheel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Chapter 1: Starting the Flywheel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week1-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-1-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-1-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 2: From Evaluation to Enhancement
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Chapter 2: From Evaluation to Enhancement
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week2-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-2-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-2-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 3: User Experience
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Chapter 3: User Experience
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week3-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-3-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 1
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 4: Topic Modeling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Chapter 4: Topic Modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week4-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-4-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-4-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 5: Multimodal Capabilities
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Chapter 5: Multimodal Capabilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week5-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-5-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort3/week-5-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 3 - Session 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 6: Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Chapter 6: Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../office-hours/cohort2/week6-summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cohort 2 - Week 6
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../talks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Talks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Talks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Search / Indexing / Chunking
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Search / Indexing / Chunking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/chromadb-anton-chunking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Chunking Strategies (Anton, ChromaDB)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/john-lexical-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lexical Search in RAG Applications (John Berryman)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/query-routing-anton/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Query Routing for RAG Systems (Anton, ChromaDB)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/semantic-search-exa-will-bryk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Google Search Sucks for AI (Will Bryk, Exa)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/rag-without-apis-browser-michael-struwig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How OpenBB Ditched APIs and Put RAG in the Browser (Michael Struwig)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Finetuning
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Finetuning
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/glean-manav/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Custom Embedding Models Per Customer (Manav, Glean)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/fine-tuning-rerankers-embeddings-ayush-lancedb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The 12% RAG Performance Boost You're Missing (Ayush, LanceDB)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/embedding-performance-generative-evals-kelly-hong/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stop Trusting MTEB Rankings (Kelly Hong, Chroma)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/online-evals-production-monitoring-ben-sidhant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Your AI Is Failing in Production (Ben & Sidhant)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/rag-antipatterns-skylar-payne/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The RAG Mistakes That Are Killing Your AI (Skylar Payne)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/zapier-vitor-evals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How Zapier 4x'd Their AI Feedback Collection (Vitor)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Coding Agents
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Coding Agents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/rag-is-dead-cline-nik/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Cline Ditched RAG for Direct Code Reading (Nik Pash)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/colin-rag-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grep Beat Embeddings on SWE-Bench (Colin Flaherty, Augment)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/sourcegraph-agentic-code-agent-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agentic RAG from first principles (Beyang Liu, Sourcegraph)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/devin-cognition-multi-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Devin does not use multi-agents (Walden Yan)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Document Processing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Document Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/reducto-docs-adit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Why Most Document Parsing Sucks (Adit, Reducto)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/superlinked-encoder-stacking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Encoder Stacking and Multi-Modal Retrieval (Daniel, Superlinked)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../talks/extend-document-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How Extend Achieves 95%+ Document Automation (Eli Badgio)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-pitfalls-in-ai-development" class="md-nav__link">
    <span class="md-ellipsis">
      Common Pitfalls in AI Development
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls in AI Development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-reasoning-fallacy" class="md-nav__link">
    <span class="md-ellipsis">
      The Reasoning Fallacy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-vague-metrics-problem" class="md-nav__link">
    <span class="md-ellipsis">
      The Vague Metrics Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-generic-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Building Generic Solutions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#leading-versus-lagging-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Leading versus Lagging Metrics
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Leading versus Lagging Metrics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lagging-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Lagging Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leading-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Leading Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-calories-in-calories-out-analogy" class="md-nav__link">
    <span class="md-ellipsis">
      The Calories In, Calories Out Analogy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-1-leading-metric-experiment-velocity" class="md-nav__link">
    <span class="md-ellipsis">
      The #1 Leading Metric: Experiment Velocity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#absence-blindness-and-intervention-bias" class="md-nav__link">
    <span class="md-ellipsis">
      Absence Blindness and Intervention Bias
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Absence Blindness and Intervention Bias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#absence-blindness" class="md-nav__link">
    <span class="md-ellipsis">
      Absence Blindness
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intervention-bias" class="md-nav__link">
    <span class="md-ellipsis">
      Intervention Bias
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-rag-flywheel-and-retrieval-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      The RAG Flywheel and Retrieval Evaluations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The RAG Flywheel and Retrieval Evaluations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-prioritize-retrieval-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Why Prioritize Retrieval Evaluations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-precision-and-recall" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Precision and Recall
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-studies-real-world-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Case Studies: Real-World Improvements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Case Studies: Real-World Improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#case-study-1-report-generation-from-expert-interviews" class="md-nav__link">
    <span class="md-ellipsis">
      Case Study 1: Report Generation from Expert Interviews
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#case-study-2-blueprint-search-for-construction" class="md-nav__link">
    <span class="md-ellipsis">
      Case Study 2: Blueprint Search for Construction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-implementation-building-your-evaluation-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Implementation: Building Your Evaluation Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Practical Implementation: Building Your Evaluation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-a-practical-evaluation-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Building a Practical Evaluation Pipeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-regular-evaluations" class="md-nav__link">
    <span class="md-ellipsis">
      Running Regular Evaluations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrating-with-development-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating with Development Workflow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vector-database-selection-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Database Selection Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vector Database Selection Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-your-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding Your Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-database-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Vector Database Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Framework
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation-example-lancedb-for-hybrid-search" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Example: LanceDB for Hybrid Search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-synthetic-data-for-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Synthetic Data for Evaluation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Synthetic Data for Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-approach-question-generation" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Approach: Question Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-diverse-synthetic-data" class="md-nav__link">
    <span class="md-ellipsis">
      Generating Diverse Synthetic Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Generating Diverse Synthetic Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-variation-in-question-types" class="md-nav__link">
    <span class="md-ellipsis">
      1. Variation in Question Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-linguistic-diversity-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      2. Linguistic Diversity Techniques
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-chain-of-thought-generation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Chain-of-Thought Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-few-shot-prompting-for-domain-specificity" class="md-nav__link">
    <span class="md-ellipsis">
      4. Few-Shot Prompting for Domain Specificity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-adversarial-question-generation" class="md-nav__link">
    <span class="md-ellipsis">
      5. Adversarial Question Generation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-comprehensive-evaluation-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Building Comprehensive Evaluation Sets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-synthetic-data-beyond-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Using Synthetic Data Beyond Evaluation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reflection-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Reflection Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion-and-next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion and Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enroll-in-the-free-6-day-email-course" class="md-nav__link">
    <span class="md-ellipsis">
      Enroll in the Free 6-Day Email Course
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="kickstarting-the-data-flywheel-with-synthetic-data">Kickstarting the Data Flywheel with Synthetic Data</h1>
<p>Alright, let's talk about making RAG applications actually work. Most teams I work with are stuck in this weird loop where they keep tweaking things randomly and hoping something sticks. Sound familiar?</p>
<p>Here's what we're going to cover: how to set up evaluations that actually tell you something useful, common ways teams shoot themselves in the foot (and how to avoid them), and how to use synthetic data to test your system before you even have users.</p>
<h2 id="common-pitfalls-in-ai-development">Common Pitfalls in AI Development</h2>
<p>After working with dozens of companies on their RAG applications, I keep seeing the same patterns. Let me walk you through them so you don't waste months making the same mistakes.</p>
<h3 id="the-reasoning-fallacy">The Reasoning Fallacy</h3>
<p>I can't tell you how many times I hear "we need more complex reasoning" or "the model isn't smart enough." Nine times out of ten, that's not the problem. The real issue? You don't actually know what your users want.</p>
<p>Think about it - when was the last time you:
- Actually looked at data from customers?
- Read user feedback (not just the positive reviews)?
- Actively asked users what they're struggling with?</p>
<p>If you're like most teams, the answer is "uhh..." And that's the problem. You end up building these generic tools that don't solve any specific problem particularly well.</p>
<h3 id="the-vague-metrics-problem">The Vague Metrics Problem</h3>
<p>Here's another one that drives me crazy. Teams will spend weeks changing things and then evaluate success by asking "does it look better?" or "does it feel right?" </p>
<p>I worked with a company valued at $100 million that had maybe 30 evaluation examples. Total. When something broke or improved, they had no idea what actually changed or why.</p>
<p>Without concrete metrics, you get stuck in this loop:
1. Make random changes based on gut feeling
2. Get unclear results
3. Feel frustrated
4. Make more random changes</p>
<p>And round and round you go.</p>
<div class="highlight"><pre><span></span><code>flowchart TD
    A[Random Changes Based on Intuition] --&gt;|leads to| B[Unclear Results]
    B --&gt;|creates| C[Frustration &amp; Uncertainty]
    C --&gt;|triggers more| A
    D[Concrete Metrics &amp; Evaluation Framework] --&gt;|breaks| A
    style D fill:#90EE90,stroke:#006400,stroke-width:2px
</code></pre></div>
<h3 id="building-generic-solutions">Building Generic Solutions</h3>
<p>This one's tough because it often comes from good intentions. You want to build something that helps everyone! But here's what actually happens: you build a generic tool that does everything poorly instead of one thing well.</p>
<p>I see this with teams that have 30-40% churn rates but are too scared to narrow their focus because they might miss out on some hypothetical use case. </p>
<p>My advice? Pick a narrow domain, become world-class at it, then expand. You'll learn way more from 100 happy users in one domain than 1,000 frustrated users across ten.</p>
<h2 id="leading-versus-lagging-metrics">Leading versus Lagging Metrics</h2>
<p>This concept changed how I think about improving systems. I learned it at Facebook, and it's been invaluable for RAG applications.</p>
<h3 id="lagging-metrics">Lagging Metrics</h3>
<p>Lagging metrics are the things you care about but can't directly control:
- Application quality
- User satisfaction
- Churn rates
- Revenue</p>
<p>They're like your body weight - easy to measure, hard to change directly.</p>
<h3 id="leading-metrics">Leading Metrics</h3>
<p>Leading metrics are things you can control that predict future performance:
- Number of experiments run per week
- Evaluation coverage of different question types
- Retrieval precision and recall
- User feedback collection rate</p>
<p>They're like calories consumed or workouts completed - you have direct control.</p>
<h3 id="the-calories-in-calories-out-analogy">The Calories In, Calories Out Analogy</h3>
<p>Here's a simple analogy that really drives this home. If you want to lose weight (lagging metric), obsessing over the scale won't help much. What works? Tracking calories in and calories out (leading metrics).</p>
<p>It's not perfect, but it's actionable. You can't directly control your weight today, but you can control whether you eat 2,000 or 3,000 calories.</p>
<p>Same thing with RAG applications. You can't directly make users happy, but you can run more experiments, improve retrieval metrics, and collect more feedback.</p>
<h3 id="the-1-leading-metric-experiment-velocity">The #1 Leading Metric: Experiment Velocity</h3>
<p>If I had to pick one metric for early-stage RAG applications, it's this: how many experiments are you running?</p>
<p>Instead of asking "did the last change improve things?" in standup, ask "how can we run twice as many experiments next week?" What infrastructure would help? What's blocking us from testing more ideas?</p>
<p>This shift from outcomes to velocity changes everything.</p>
<h2 id="absence-blindness-and-intervention-bias">Absence Blindness and Intervention Bias</h2>
<p>These two biases kill more RAG projects than anything else.</p>
<h3 id="absence-blindness">Absence Blindness</h3>
<p>You can't fix what you can't see. Sounds obvious, right? But I see teams obsess over generation quality while completely ignoring whether retrieval works at all.</p>
<p>I had a client spend three weeks fine-tuning prompts. When we finally checked, their retrieval system was returning completely irrelevant documents. No amount of prompt engineering can fix that.</p>
<p>Questions teams forget to ask:
- Is retrieval actually finding the right documents?
- Are our chunks the right size?
- Is our data extraction pipeline working?
- Do we have separate metrics for retrieval vs generation?</p>
<h3 id="intervention-bias">Intervention Bias</h3>
<p>This is our tendency to do <em>something</em> just to feel like we're making progress. In RAG, it shows up as constantly switching models, tweaking prompts, or adding features without measuring impact.</p>
<p>"Should we use GPT-4 or Claude?" 
"Will this new prompt technique help?"</p>
<p>My answer is always the same: depends on your data and evaluations. There's no universal answer.</p>
<p>The fix? Every change should target a specific metric and test a clear hypothesis. No more "let's try this and see what happens."</p>
<h2 id="the-rag-flywheel-and-retrieval-evaluations">The RAG Flywheel and Retrieval Evaluations</h2>
<p>Here's the thing - everything we learned about search applies to retrieval. If you have a basic RAG setup, your next step is testing whether retrieval actually works.</p>
<h3 id="why-prioritize-retrieval-evaluations">Why Prioritize Retrieval Evaluations</h3>
<p>Teams without ML backgrounds often jump straight to generation evaluations. Bad idea. Here's why retrieval evaluations are better:</p>
<ol>
<li><strong>Speed</strong>: Milliseconds vs seconds</li>
<li><strong>Cost</strong>: Way cheaper to run</li>
<li><strong>Objectivity</strong>: Clear yes/no answers</li>
<li><strong>Scalability</strong>: Run thousands of tests quickly</li>
</ol>
<p>When you focus on generation too early, everything becomes subjective. Did the model hallucinate? Is this answer good enough? Who knows?</p>
<p>But with retrieval, it's simple: did you find the right document or not?</p>
<h2 id="understanding-precision-and-recall">Understanding Precision and Recall</h2>
<p>Let's make these concepts concrete:</p>
<p><strong>Testing Different K Values:</strong>
- Start with K=10
- Test K=3, 5, 10, 20 to understand tradeoffs
- Higher K improves recall but may hurt precision
- Advanced models (GPT-4, Claude) handle irrelevant docs better, so lean toward higher K</p>
<p><strong>Why Score Thresholds Are Dangerous:</strong>
- Score distributions vary wildly by query type
- A threshold that works for one category fails for others
- Example: average ada-002 score is 0.7, but 0.5 for ada-003
- Better approach: Always return top K, let the LLM filter</p>
<div class="highlight"><pre><span></span><code>graph TD
    subgraph &quot;Document Universe&quot;
        subgraph &quot;All Relevant Documents&quot;
            A[&quot;Relevant &amp;&lt;br&gt;Retrieved&lt;br&gt;(True Positives)&quot;]
            B[&quot;Relevant but&lt;br&gt;Not Retrieved&lt;br&gt;(False Negatives)&quot;]
        end

        subgraph &quot;All Retrieved Documents&quot;
            A
            C[&quot;Retrieved but&lt;br&gt;Not Relevant&lt;br&gt;(False Positives)&quot;]
        end

        D[&quot;Not Relevant &amp;&lt;br&gt;Not Retrieved&lt;br&gt;(True Negatives)&quot;]
    end

    P[&quot;Precision = &lt;br&gt;Relevant &amp; Retrieved&lt;br&gt;All Retrieved&quot;]
    R[&quot;Recall = &lt;br&gt;Relevant &amp; Retrieved&lt;br&gt;All Relevant&quot;]

    A ~~~ P
    A ~~~ R

    classDef relevant fill:#90EE90,stroke:#006400
    classDef retrieved fill:#ADD8E6,stroke:#00008B
    classDef both fill:#9370DB,stroke:#4B0082
    classDef neither fill:#DCDCDC,stroke:#696969
    classDef formula fill:#FFFACD,stroke:#8B8B00,stroke-width:2px

    class A both
    class B relevant
    class C retrieved
    class D neither
    class P,R formula
</code></pre></div>
<p><strong>Recall</strong>: What percentage of relevant documents did you find? If there are 10 correct documents and you found 4, that's 40% recall.</p>
<p><strong>Precision</strong>: What percentage of your results were actually relevant? If you returned 10 results but only 2 were relevant, that's 20% precision.</p>
<p>With modern LLMs, prioritize recall. They're pretty good at ignoring irrelevant stuff. With simpler models, precision matters more because they get confused easily.</p>
<h2 id="case-studies-real-world-improvements">Case Studies: Real-World Improvements</h2>
<p>Let me share two examples that show how focusing on retrieval metrics leads to quick wins.</p>
<h3 id="case-study-1-report-generation-from-expert-interviews">Case Study 1: Report Generation from Expert Interviews</h3>
<p>A client generates reports from user research interviews. Consultants do 15-30 interviews and want AI-generated summaries.</p>
<p><strong>Problem</strong>: Reports were missing quotes. A consultant knew 6 experts said something similar, but the report only cited 3. That 50% recall rate killed trust.</p>
<p><strong>Solution</strong>: We built manual evaluation sets from problematic examples. Turns out, better text chunking fixed most issues. </p>
<p><strong>Result</strong>: Recall went from 50% to 90% in a few iterations. Customers noticed immediately.</p>
<p><strong>Lesson</strong>: Pre-processing that matches how users query can dramatically improve retrieval.</p>
<h3 id="case-study-2-blueprint-search-for-construction">Case Study 2: Blueprint Search for Construction</h3>
<p>Another client needed AI search for construction blueprints - workers asking questions about building plans.</p>
<p><strong>Problem</strong>: Only 27% recall when finding the right blueprint for questions.</p>
<p><strong>Solution</strong>: We used a vision model to create detailed captions for blueprints, including hypothetical questions users might ask.</p>
<p><strong>Result</strong>: Four days later, recall hit 85%. Once live, we discovered 20% of queries involved counting objects, which justified investing in bounding box models.</p>
<p><strong>Lesson</strong>: Test subsystems independently for rapid improvements. Synthetic data for specific use cases works great.</p>
<p><strong>Chunk Size Best Practices:</strong></p>
<p>Start with 800 tokens and 50% overlap. This works for most use cases.</p>
<p>Why chunk optimization rarely gives big wins:
- Usually yields &lt;10% improvements
- Better to focus on:
  - Query understanding and expansion
  - Metadata filtering
  - Contextual retrieval (adding document context to chunks)
  - Better embedding models</p>
<p>When to adjust:
- Legal/regulatory: Larger chunks (1500-2000 tokens) to preserve full clauses
- Technical docs: Smaller chunks (400-600 tokens) for precise retrieval
- Conversational: Page-level chunks to maintain context</p>
<h2 id="practical-implementation-building-your-evaluation-framework">Practical Implementation: Building Your Evaluation Framework</h2>
<p>Time to build something that actually works. Your framework should:</p>
<ol>
<li>Run questions through retrieval</li>
<li>Compare results to ground truth</li>
<li>Calculate precision and recall</li>
<li>Track changes over time</li>
</ol>
<p>This becomes your improvement flywheel. Every change gets evaluated against these metrics.</p>
<h3 id="building-a-practical-evaluation-pipeline">Building a Practical Evaluation Pipeline</h3>
<p>Here's a simple but effective evaluation pipeline:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_retrieval</span><span class="p">(</span><span class="n">evaluation_data</span><span class="p">,</span> <span class="n">retriever_fn</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Evaluate retrieval performance on a dataset.</span>

<span class="sd">    Args:</span>
<span class="sd">        evaluation_data: List of dicts with &#39;question&#39; and &#39;relevant_docs&#39; keys</span>
<span class="sd">        retriever_fn: Function that takes question text and returns docs</span>
<span class="sd">        k: Number of top results to consider</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict containing evaluation metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">evaluation_data</span><span class="p">:</span>
        <span class="n">question</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]</span>
        <span class="n">ground_truth</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;relevant_docs&#39;</span><span class="p">])</span>

        <span class="c1"># Call retrieval system</span>
        <span class="n">retrieved_docs</span> <span class="o">=</span> <span class="n">retriever_fn</span><span class="p">(</span><span class="n">question</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
        <span class="n">retrieved_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">retrieved_docs</span><span class="p">]</span>

        <span class="c1"># Calculate metrics</span>
        <span class="n">retrieved_relevant</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">retrieved_ids</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">ground_truth</span>
        <span class="n">precision</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">retrieved_relevant</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">retrieved_ids</span><span class="p">)</span> <span class="k">if</span> <span class="n">retrieved_ids</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">recall</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">retrieved_relevant</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">ground_truth</span><span class="p">)</span> <span class="k">if</span> <span class="n">ground_truth</span> <span class="k">else</span> <span class="mf">1.0</span>

        <span class="c1"># Store individual result</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;question_id&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
            <span class="s1">&#39;question&#39;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span>
            <span class="s1">&#39;precision&#39;</span><span class="p">:</span> <span class="n">precision</span><span class="p">,</span>
            <span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="n">recall</span><span class="p">,</span>
            <span class="s1">&#39;retrieved_docs&#39;</span><span class="p">:</span> <span class="n">retrieved_ids</span><span class="p">,</span>
            <span class="s1">&#39;relevant_docs&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">ground_truth</span><span class="p">),</span>
            <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="p">})</span>

    <span class="c1"># Aggregate metrics</span>
    <span class="n">avg_precision</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;precision&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="n">avg_recall</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;recall&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s1">&#39;avg_precision&#39;</span><span class="p">:</span> <span class="n">avg_precision</span><span class="p">,</span>
        <span class="s1">&#39;avg_recall&#39;</span><span class="p">:</span> <span class="n">avg_recall</span><span class="p">,</span>
        <span class="s1">&#39;detailed_results&#39;</span><span class="p">:</span> <span class="n">results</span>
    <span class="p">}</span>
</code></pre></div>
<h3 id="running-regular-evaluations">Running Regular Evaluations</h3>
<p>Make evaluation part of your routine:</p>
<ol>
<li><strong>Continuous testing</strong>: Run with every significant change</li>
<li><strong>Weekly benchmarks</strong>: Comprehensive evaluations on schedule</li>
<li><strong>Version comparison</strong>: Always compare new vs old</li>
<li><strong>Failure analysis</strong>: Review 0% recall cases for patterns</li>
<li><strong>Difficulty progression</strong>: Add harder tests as you improve</li>
</ol>
<p><strong>Production Monitoring Tips:</strong></p>
<p>Track these over time:
- Average cosine distance between queries and retrieved docs
- Percentage of queries with no results above threshold
- Score distributions (watch for bimodal patterns)</p>
<p>Segment by user type:
- New vs returning users have different patterns
- Technical vs non-technical users need different strategies
- Time-based patterns (like during product launches)</p>
<p>Real example: A company's cosine distances spiked during their Super Bowl ad. New users asked different questions, revealing content gaps. They created onboarding content and improved retention 25%.</p>
<h3 id="integrating-with-development-workflow">Integrating with Development Workflow</h3>
<p>To maximize value:</p>
<ol>
<li><strong>Build a dashboard</strong>: Simple interface showing trends</li>
<li><strong>Automate testing</strong>: Part of CI/CD</li>
<li><strong>Set alerts</strong>: Notify when metrics drop</li>
<li><strong>Document experiments</strong>: Track changes and impact</li>
<li><strong>Connect to business</strong>: Link retrieval metrics to outcomes</li>
</ol>
<p>Your framework should evolve with your application. Start simple, add complexity as needed.</p>
<h2 id="vector-database-selection-guide">Vector Database Selection Guide</h2>
<p>"Which vector database should I use?" gets asked in every office hours. Here's my take based on real deployments.</p>
<h3 id="understanding-your-requirements">Understanding Your Requirements</h3>
<p>First, figure out:</p>
<ol>
<li><strong>Scale</strong>: How many documents/chunks?</li>
<li><strong>Query patterns</strong>: Need metadata filtering? SQL? Hybrid search?</li>
<li><strong>Performance</strong>: Latency requirements?</li>
<li><strong>Infrastructure</strong>: Existing database expertise?</li>
<li><strong>Budget</strong>: Open source vs managed?</li>
</ol>
<h3 id="vector-database-comparison">Vector Database Comparison</h3>
<table>
<thead>
<tr>
<th>Database</th>
<th>Best For</th>
<th>Pros</th>
<th>Cons</th>
<th>When to Use</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PostgreSQL + pgvector</strong></td>
<td>Teams with SQL expertise</td>
<td> Familiar SQL interface<br> Metadata filtering<br> ACID compliance<br> Single database for everything</td>
<td> Not optimized for vector operations<br> Limited to ~1M vectors for good performance<br> No built-in hybrid search</td>
<td>When you need to combine vector search with complex SQL queries and already use PostgreSQL</td>
</tr>
<tr>
<td><strong>LanceDB</strong></td>
<td>Experimentation &amp; hybrid search</td>
<td> One-line hybrid search<br> Built-in re-ranking<br> S3 storage support<br> DuckDB for analytics</td>
<td> Newer, less battle-tested<br> Smaller community</td>
<td>When you want to quickly test lexical vs vector vs hybrid search approaches</td>
</tr>
<tr>
<td><strong>Timescale pgvector_scale</strong></td>
<td>Large-scale exhaustive search</td>
<td> Exhaustive search capability<br> Better scaling than pgvector<br> Time-series support</td>
<td> Requires Timescale<br> More complex setup</td>
<td>When you need guaranteed recall on large datasets with time-based queries</td>
</tr>
<tr>
<td><strong>ChromaDB</strong></td>
<td>Simple prototypes</td>
<td> Easy to get started<br> Good Python API<br> Local development friendly</td>
<td> Performance issues at scale<br> Limited production features</td>
<td>For POCs and demos under 100k documents</td>
</tr>
<tr>
<td><strong>Turbopuffer</strong></td>
<td>High-performance search</td>
<td> Very fast<br> Good scaling<br> Simple API</td>
<td> Newer entrant<br> Limited ecosystem</td>
<td>When raw performance is critical</td>
</tr>
<tr>
<td><strong>Pinecone</strong></td>
<td>Managed solution</td>
<td> Fully managed<br> Good performance<br> Reliable</td>
<td> Expensive at scale<br> Vendor lock-in</td>
<td>When you want zero infrastructure management</td>
</tr>
</tbody>
</table>
<h3 id="decision-framework">Decision Framework</h3>
<div class="highlight"><pre><span></span><code>flowchart TD
    A[Start] --&gt; B{Do you have&lt;br&gt;existing PostgreSQL?}
    B --&gt;|Yes| C{Need exhaustive&lt;br&gt;search?}
    B --&gt;|No| D{Want to experiment&lt;br&gt;with hybrid search?}

    C --&gt;|Yes| E[pgvector_scale]
    C --&gt;|No| F{&lt; 1M vectors?}
    F --&gt;|Yes| G[pgvector]
    F --&gt;|No| H[Consider migration]

    D --&gt;|Yes| I[LanceDB]
    D --&gt;|No| J{Budget for&lt;br&gt;managed service?}

    J --&gt;|Yes| K[Pinecone]
    J --&gt;|No| L{Team size?}

    L --&gt;|Small| M[ChromaDB]
    L --&gt;|Large| N[LanceDB/Turbopuffer]

    style E fill:#90EE90
    style G fill:#90EE90
    style I fill:#90EE90
    style K fill:#90EE90
    style M fill:#90EE90
    style N fill:#90EE90
</code></pre></div>
<h3 id="implementation-example-lancedb-for-hybrid-search">Implementation Example: LanceDB for Hybrid Search</h3>
<p>We use LanceDB in this course because it makes comparing retrieval strategies trivial:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">lancedb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lancedb.embeddings</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_registry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lancedb.pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">LanceModel</span><span class="p">,</span> <span class="n">Vector</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lancedb.rerankers</span><span class="w"> </span><span class="kn">import</span> <span class="n">CohereReranker</span>

<span class="c1"># Define your schema</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Document</span><span class="p">(</span><span class="n">LanceModel</span><span class="p">):</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span>
    <span class="n">vector</span><span class="p">:</span> <span class="n">Vector</span><span class="p">(</span><span class="n">get_registry</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;openai&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">())</span>

<span class="c1"># Create database</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">lancedb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;./my_rag_db&quot;</span><span class="p">)</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="s2">&quot;documents&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="n">Document</span><span class="p">)</span>

<span class="c1"># Add documents</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">([</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="o">...</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">documents</span>
<span class="p">])</span>

<span class="c1"># Compare retrieval strategies with one line changes</span>
<span class="n">results_vector</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">results_lexical</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="s2">&quot;fts&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">results_hybrid</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">query_type</span><span class="o">=</span><span class="s2">&quot;hybrid&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

<span class="c1"># Add re-ranking with one more line</span>
<span class="n">reranker</span> <span class="o">=</span> <span class="n">CohereReranker</span><span class="p">()</span>
<span class="n">results_reranked</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">rerank</span><span class="p">(</span><span class="n">reranker</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</code></pre></div>
<p>This flexibility lets you quickly test what works for your data without rewriting everything.</p>
<h3 id="migration-considerations">Migration Considerations</h3>
<p>If you're already using a vector database but having issues:</p>
<ol>
<li><strong>Measure first</strong>: Quantify current performance</li>
<li><strong>Test in parallel</strong>: Run subset of queries against both</li>
<li><strong>Compare results</strong>: Use evaluation metrics to ensure quality</li>
<li><strong>Plan migration</strong>: Consider dual-writing during transition</li>
</ol>
<p>Don't choose based on hype or benchmarks. Choose based on your team's expertise, query patterns, scaling needs, and budget.</p>
<p>From office hours: "We generally want to use SQL databases. If you use something like Timescale or PostgreSQL, there are many ways of doing time filtering... The general idea is to use structured extraction to identify start and end dates, prompt your language model with an understanding of what those dates are, and then use filtering."</p>
<h2 id="creating-synthetic-data-for-evaluation">Creating Synthetic Data for Evaluation</h2>
<p>No user data yet? No problem. Synthetic data gets you started. But it's not as simple as asking an LLM for "more data" - you need diverse, realistic datasets that reflect real usage.</p>
<div class="highlight"><pre><span></span><code>flowchart TD
    A[&quot;Document Corpus&quot;] --&gt; B[&quot;Sample Representative&lt;br&gt;Text Chunks&quot;]
    B --&gt; C[&quot;LLM-Powered&lt;br&gt;Question Generation&quot;]

    C --&gt; D1[&quot;Factual&lt;br&gt;Questions&quot;]
    C --&gt; D2[&quot;Inferential&lt;br&gt;Questions&quot;]
    C --&gt; D3[&quot;Comparative&lt;br&gt;Questions&quot;]
    C --&gt; D4[&quot;Hypothetical&lt;br&gt;Questions&quot;]

    D1 &amp; D2 &amp; D3 &amp; D4 --&gt; E[&quot;Verify Retrievability&lt;br&gt;with Current System&quot;]

    E --&gt; F1[&quot;Easy Questions&lt;br&gt;(80-90% expected recall)&quot;]
    E --&gt; F2[&quot;Medium Questions&lt;br&gt;(50-70% expected recall)&quot;]
    E --&gt; F3[&quot;Hard Questions&lt;br&gt;(30-50% expected recall)&quot;]

    F1 &amp; F2 &amp; F3 --&gt; G[&quot;Comprehensive&lt;br&gt;Evaluation Dataset&quot;]

    H[&quot;Real User&lt;br&gt;Questions&quot;] -.-&gt;|&quot;As they become&lt;br&gt;available&quot;| G

    style A fill:#CCCCFF,stroke:#0000AA
    style C fill:#FFD700,stroke:#B8860B
    style E fill:#90EE90,stroke:#006400
    style G fill:#FF7F50,stroke:#A52A2A
    style H fill:#98FB98,stroke:#006400,stroke-dasharray: 5 5
</code></pre></div>
<h3 id="basic-approach-question-generation">Basic Approach: Question Generation</h3>
<p>Simple version:</p>
<ol>
<li>Take random text chunk</li>
<li>Ask LLM to generate a question this chunk answers</li>
<li>Verify retrieval finds the original chunk</li>
</ol>
<p>This creates a basic dataset testing whether your system finds the right info. Recall becomes binary: found it or didn't.</p>
<h3 id="generating-diverse-synthetic-data">Generating Diverse Synthetic Data</h3>
<p>For truly valuable synthetic data, you need variety:</p>
<h4 id="1-variation-in-question-types">1. Variation in Question Types</h4>
<p>Test different retrieval capabilities:
- <strong>Factual</strong>: Direct questions with explicit answers
- <strong>Inferential</strong>: Connecting multiple pieces of info
- <strong>Comparative</strong>: Comparing entities or concepts
- <strong>Hypothetical</strong>: "What if" scenarios
- <strong>Clarification</strong>: Asking for elaboration</p>
<h4 id="2-linguistic-diversity-techniques">2. Linguistic Diversity Techniques</h4>
<p>Vary phrasing:
- <strong>Paraphrasing</strong>: Multiple ways to ask the same thing
- <strong>Terminology</strong>: Synonyms and domain language
- <strong>Complexity</strong>: Mix simple and compound queries
- <strong>Length</strong>: Short keywords to verbose questions
- <strong>Format</strong>: Questions, commands, implied questions</p>
<h4 id="3-chain-of-thought-generation">3. Chain-of-Thought Generation</h4>
<p>Use CoT for nuanced questions:</p>
<div class="highlight"><pre><span></span><code>Given this text chunk:
[CHUNK]

First, identify 3-5 key facts or concepts in this text.
For each key concept:
1. Think about different ways someone might ask about it
2. Consider various levels of prior knowledge the asker might have
3. Imagine different contexts in which this information might be relevant

Now, generate 5 diverse questions about this text that:
- Vary in complexity and format
- Would be asked by users with different backgrounds
- Target different aspects of the information
- Require different types of retrieval capabilities to answer correctly

For each question, explain your reasoning about why this is a realistic user question.
</code></pre></div>
<h4 id="4-few-shot-prompting-for-domain-specificity">4. Few-Shot Prompting for Domain Specificity</h4>
<p>If you have real user questions, use them:</p>
<div class="highlight"><pre><span></span><code>I&#39;m creating questions that users might ask about [DOMAIN].
Here are some examples of real questions:

1. [REAL QUESTION 1]
2. [REAL QUESTION 2]
3. [REAL QUESTION 3]

Here&#39;s a text passage:
[CHUNK]

Please generate 5 new questions similar in style and intent to the examples above,
that would be answered by this text passage.
</code></pre></div>
<h4 id="5-adversarial-question-generation">5. Adversarial Question Generation</h4>
<p>Create deliberately challenging questions:</p>
<div class="highlight"><pre><span></span><code>Given this text passage:
[CHUNK]

Generate 3 challenging questions that:
1. Use different terminology than what appears in the passage
2. Require understanding the implications of the content
3. Might confuse a basic keyword search system
4. Would still be reasonable questions a user might ask

For each question, explain why it&#39;s challenging and what makes it a good test case.
</code></pre></div>
<h3 id="building-comprehensive-evaluation-sets">Building Comprehensive Evaluation Sets</h3>
<p>Structure your evaluation sets strategically:</p>
<ol>
<li><strong>Coverage mapping</strong>: Cover all document types and topics</li>
<li><strong>Difficulty distribution</strong>: Easy (80-90% expected recall), medium (50-70%), hard (30-50%)</li>
<li><strong>Ground truth validation</strong>: Have experts verify questions and docs</li>
<li><strong>Domain segmentation</strong>: Separate sets for different use cases</li>
<li><strong>Synthetic/real blending</strong>: Gradually mix in real data as you get it</li>
</ol>
<h3 id="using-synthetic-data-beyond-evaluation">Using Synthetic Data Beyond Evaluation</h3>
<p>Your synthetic data can do more:</p>
<ol>
<li><strong>Retrieval benchmarking</strong>: Measuring search quality</li>
<li><strong>Few-shot examples</strong>: Enhancing LLM understanding</li>
<li><strong>Fine-tuning data</strong>: Training specialized embeddings/rerankers</li>
<li><strong>User experience testing</strong>: Simulating realistic sessions</li>
</ol>
<p>Good synthetic data upfront accelerates everything else.</p>
<p><strong>Model Sensitivity Warning:</strong></p>
<p>Models are more sensitive to irrelevant info than you'd expect. Even GPT-4 and Claude get distracted by marginally relevant content.</p>
<p>This matters for:
- Multi-step reasoning
- Numerical calculations
- Finding specific facts in specific documents</p>
<p>Test by:
1. Creating test cases with varying irrelevant info
2. Measuring performance degradation
3. Using results to set precision/recall tradeoffs</p>
<p>Example: One team found 5 irrelevant documents (even marked as "potentially less relevant") reduced financial calculation accuracy by 30%. They adjusted retrieval to favor precision for numerical queries.</p>
<h2 id="additional-resources">Additional Resources</h2>
<p><strong>Tools and Libraries for RAG Evaluation:</strong>
- <strong><a href="https://github.com/explodinggradients/ragas">RAGAS</a></strong>: Open-source framework for evaluating RAG applications
- <strong><a href="https://python.langchain.com/docs/guides/evaluation/">LangChain Evaluation</a></strong>: Tools for evaluating retrieval and generation
- <strong><a href="https://github.com/promptslab/prompttools">Prompttools</a></strong>: Toolkit for testing and evaluating LLM applications
- <strong><a href="https://mlflow.org/">MLflow for Experiment Tracking</a></strong>: Open-source platform for managing ML lifecycle</p>
<h2 id="reflection-questions">Reflection Questions</h2>
<p>Take a minute to think about:</p>
<ol>
<li>What are your leading and lagging metrics? How do they connect?</li>
<li>How could you generate more diverse and challenging synthetic questions for your domain?</li>
<li>Where does your current evaluation framework fall short? What metrics would help?</li>
<li>What experiment could you run this week to test an improvement hypothesis?</li>
<li>How will you incorporate real user feedback as it comes in?</li>
</ol>
<h2 id="conclusion-and-next-steps">Conclusion and Next Steps</h2>
<p>We've covered the foundation for systematic RAG improvement through proper evaluation. No more subjective judgments or random changes - you now have tools to measure progress objectively and make data-driven decisions.</p>
<p>By focusing on retrieval metrics like precision and recall, you can run more experiments faster, cheaper, and with more confidence. This sets you up for incorporating user feedback and advanced techniques.</p>
<p>In <a href="../chapter2/">Chapter 2</a>, we'll explore converting evaluations into training data for fine-tuning, creating specialized models for your specific needs.</p>
<h2 id="summary">Summary</h2>
<p>Key principles to remember:</p>
<ol>
<li><strong>Focus on leading metrics</strong> - Especially experiment velocity, which you control</li>
<li><strong>Do the obvious thing repeatedly</strong> - Success looks boring, like counting calories</li>
<li><strong>Combat absence blindness</strong> - Check retrieval quality, not just generation</li>
<li><strong>Avoid intervention bias</strong> - Make targeted changes based on hypotheses</li>
<li><strong>Embrace empiricism</strong> - No universal answers, test everything</li>
</ol>
<p>The goal isn't chasing the latest AI techniques. It's building a flywheel of continuous improvement driven by clear metrics aligned with user outcomes. Start with synthetic data, focus on retrieval before generation, and measure everything.</p>
<p>As one client told me: "We spent three months trying to improve through prompt engineering and model switching. In two weeks with proper evaluations, we made more progress than all that time combined."</p>
<hr />
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<h2 id="enroll-in-the-free-6-day-email-course"><a class="md-button md-button--primary" href="https://improvingrag.com/">Enroll in the Free 6-Day Email Course</a></h2>
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<p><a class="md-button md-button--primary" href="https://improvingrag.com/">Enroll in the Free 6-Day Email Course</a></p>
<hr />
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<p><a class="md-button md-button--primary" href="https://improvingrag.com/">Enroll in the Free 6-Day Email Course</a></p>
<hr />
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<p><a class="md-button md-button--primary" href="https://improvingrag.com/">Enroll in the Free 6-Day Email Course</a></p>
<hr />
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<p><a class="md-button md-button--primary" href="https://improvingrag.com/">Enroll in the Free 6-Day Email Course</a></p>
<hr />
<p>IF you want to get discounts and 6 day email source on the topic make sure to subscribe to</p>
<script async data-uid="010fd9b52b" src="https://fivesixseven.kit.com/010fd9b52b/index.js"></script>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../chapter0/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Introduction
              </div>
            </div>
          </a>
        
        
          
          <a href="../chapter2/" class="md-footer__link md-footer__link--next" aria-label="Next: Overview">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Overview
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/jxnlco" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "navigation.instant", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
    
  </body>
</html>